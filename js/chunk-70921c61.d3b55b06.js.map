{"version":3,"sources":["webpack:///./src/views/joke/index.vue?685c","webpack:///./src/views/joke/index.vue?dc63","webpack:///./src/api/juhe/index.js","webpack:///src/views/joke/index.vue","webpack:///./src/views/joke/index.vue?cf94","webpack:///./src/views/joke/index.vue"],"names":["_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_0_6_0_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_1_0_1_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_15_7_0_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_3_0_0_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_7_1_0_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_2_0_1_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_15_7_0_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","item","index","key","soureid","attrs","type","directives","name","rawName","value","toolbar","title","navbar","keyboard","expression","staticStyle","width","height","src","header","flex-direction","justify","_v","_s","username","passtime","text","video","controls","_e","image","alt","slot","gif","up","size","on","click","$event","getJokeDetail","comment","hashId","content","visible","dialogPreviewVisible","update:visible","previewSrc","staticRenderFns","appKey","getJoke","$$","ajax","async","url","concat","dataType","jokevue_type_script_lang_js_","data","jokes","textJokes","created","getTextJoke","mounted","_this","length","$inView","console","log","methods","_this2","Object","apiopen","param","then","res","code","$message","error","catch","_this3","juhe_getJoke","error_code","result","reason","sid","_this4","handlePreview","views_jokevue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-70921c61.d3b55b06.js","sourcesContent":["import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.6.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.1.0@sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',{staticClass:\"joke\"},[_c('el-row',{staticClass:\"text-center\"},_vm._l((_vm.jokes),function(item,index){return _c('el-row',{key:item.soureid},[_c('el-row',{attrs:{\"type\":\"flex\"}},[_c('el-image',{directives:[{name:\"viewer\",rawName:\"v-viewer\",value:({toolbar:false, title: false, navbar: false, keyboard: false}),expression:\"{toolbar:false, title: false, navbar: false, keyboard: false}\"}],staticStyle:{\"width\":\"50px\",\"height\":\"50px\"},attrs:{\"src\":item.header}}),_c('el-row',{staticClass:\"ml-10\",staticStyle:{\"flex-direction\":\"column\"},attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('span',{staticClass:\"font-size--small\"},[_vm._v(_vm._s(item.username))]),_c('span',{staticClass:\"font-size--small\"},[_vm._v(_vm._s(item.passtime))])])],1),_c('el-row',{staticClass:\"jokeText max-width ml-20 text-left line-h30\"},[_vm._v(_vm._s(item.text))]),(item.type==='video')?_c('video',{staticClass:\"myVideo max-width\",attrs:{\"src\":item.video,\"controls\":\"\"}}):_vm._e(),(item.type==='image')?_c('el-image',{directives:[{name:\"viewer\",rawName:\"v-viewer\",value:({toolbar:false, title: false, navbar: false, keyboard: false}),expression:\"{toolbar:false, title: false, navbar: false, keyboard: false}\"}],staticClass:\"p-10 max-width\",attrs:{\"src\":item.image,\"alt\":\"\"}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(true),expression:\"true\"}],attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"}),_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"error\"},slot:\"error\"},[_c('img',{attrs:{\"src\":\"img/no_image.jpg\",\"alt\":\"\",\"width\":\"100%\"}})])]):_vm._e(),(item.type==='gif')?_c('el-image',{directives:[{name:\"viewer\",rawName:\"v-viewer\",value:({toolbar:false, title: false, navbar: false, keyboard: false}),expression:\"{toolbar:false, title: false, navbar: false, keyboard: false}\"}],staticClass:\"p-10 max-width\",attrs:{\"src\":item.gif,\"alt\":\"\"}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(true),expression:\"true\"}],attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"}),_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"error\"},slot:\"error\"},[_c('img',{attrs:{\"src\":\"img/no_image.jpg\",\"alt\":\"\",\"width\":\"100%\"}})])]):_vm._e(),_c('el-row',{staticClass:\"ptb-20\",attrs:{\"type\":\"flex\",\"justify\":\"space-around\"}},[_c('el-badge',{staticClass:\"item\",attrs:{\"value\":item.up}},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.getJokeDetail(item.soureid)}}},[_vm._v(\"赞过\")])],1),_c('el-badge',{staticClass:\"item\",attrs:{\"value\":item.comment}},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.getJokeDetail(item.soureid)}}},[_vm._v(\"\\n            评论\\n          \")])],1),_c('el-badge',{staticClass:\"item\",attrs:{\"value\":item.up}},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.getJokeDetail(item.soureid)}}},[_vm._v(\"踩过\")])],1)],1),_c('el-divider')],1)}),1),_c('el-row',{staticClass:\"text-center\"},_vm._l((_vm.textJokes),function(item){return _c('el-row',{key:item.hashId},[_c('el-row',{staticClass:\"jokeText text-left line-h30\"},[_vm._v(_vm._s(item.content))]),_c('el-divider')],1)}),1),_c('el-dialog',{attrs:{\"visible\":_vm.dialogPreviewVisible,\"width\":\"40%\"},on:{\"update:visible\":function($event){_vm.dialogPreviewVisible=$event}}},[_c('el-image',{attrs:{\"src\":_vm.previewSrc}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(true),expression:\"true\"}],attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"}),_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"error\"},slot:\"error\"},[_c('img',{attrs:{\"src\":\"img/no_image.jpg\",\"alt\":\"\",\"width\":\"100%\"}})])])],1),_c('el-row',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(true),expression:\"true\"}],staticClass:\"getMore p-40\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import $$ from 'jquery'\r\n\r\n/**\r\n * https://www.juhe.cn/myData\r\n * appKey: 77f581f3bad70b169621e782cc5e3779\r\n * 聚合数据 (个人实名认证)\r\n */\r\nlet appKey = '77f581f3bad70b169621e782cc5e3779'\r\n\r\nexport function getJoke () {\r\n  return $$.ajax({\r\n    type: 'GET',\r\n    async: true,    //是否异步\r\n    url: `http://v.juhe.cn/joke/content/text.php?key=${appKey}&page=1&pagesize=20`,\r\n    dataType: 'jsonp',\r\n    // success: function (data) {\r\n    //   console.log('success', data)\r\n    // },\r\n    // error: function (err) {\r\n    //   console.log('Error', err)\r\n    // }\r\n    /**\r\n     * 具体原理不清楚  组件调用\r\n     * then 对应success,\r\n     * catch 对应error.\r\n     */\r\n  })\r\n}\r\n","<template>\r\n  <el-row class=\"joke\">\r\n    <el-row class=\"text-center\">\r\n      <el-row v-for=\"(item, index) in jokes\" :key=\"item.soureid\">\r\n        <el-row type=\"flex\">\r\n          <el-image :src=\"item.header\"\r\n                    v-viewer=\"{toolbar:false, title: false, navbar: false, keyboard: false}\"\r\n                    style=\"width: 50px; height: 50px;\"></el-image>\r\n          <el-row class=\"ml-10\" type=\"flex\" style=\"flex-direction: column;\" justify=\"space-between\">\r\n            <span class=\"font-size--small\">{{item.username}}</span>\r\n            <span class=\"font-size--small\">{{item.passtime}}</span>\r\n          </el-row>\r\n        </el-row>\r\n        <el-row class=\"jokeText max-width ml-20 text-left line-h30\">{{item.text}}</el-row>\r\n        <video class=\"myVideo max-width\" v-if=\"item.type==='video'\" :src=\"item.video\" controls></video>\r\n        <el-image class=\"p-10 max-width\"\r\n                  v-viewer=\"{toolbar:false, title: false, navbar: false, keyboard: false}\"\r\n                  v-if=\"item.type==='image'\"\r\n                  :src=\"item.image\" alt=\"\">\r\n          <div slot=\"placeholder\" v-loading=\"true\"></div>\r\n          <div slot=\"error\" class=\"image-slot\">\r\n            <img src=\"img/no_image.jpg\" alt=\"\" width=\"100%\">\r\n          </div>\r\n        </el-image>\r\n        <el-image class=\"p-10 max-width\"\r\n                  v-viewer=\"{toolbar:false, title: false, navbar: false, keyboard: false}\"\r\n                  v-if=\"item.type==='gif'\"\r\n                  :src=\"item.gif\" alt=\"\">\r\n          <div slot=\"placeholder\" v-loading=\"true\"></div>\r\n          <div slot=\"error\" class=\"image-slot\">\r\n            <img src=\"img/no_image.jpg\" alt=\"\" width=\"100%\">\r\n          </div>\r\n        </el-image>\r\n        <el-row type=\"flex\" justify=\"space-around\" class=\"ptb-20\">\r\n          <el-badge :value=\"item.up\" class=\"item\">\r\n            <el-button @click=\"getJokeDetail(item.soureid)\" size=\"small\">赞过</el-button>\r\n          </el-badge>\r\n          <el-badge :value=\"item.comment\" class=\"item\">\r\n            <el-button @click=\"getJokeDetail(item.soureid)\" size=\"small\">\r\n              <!--<i class=\"el-icon-s-comment font-size&#45;&#45;medium\"></i>-->\r\n              评论\r\n            </el-button>\r\n          </el-badge>\r\n          <el-badge :value=\"item.up\" class=\"item\">\r\n            <el-button @click=\"getJokeDetail(item.soureid)\" size=\"small\">踩过</el-button>\r\n          </el-badge>\r\n        </el-row>\r\n        <el-divider></el-divider>\r\n      </el-row>\r\n    </el-row>\r\n    <el-row class=\"text-center\">\r\n      <el-row v-for=\"item in textJokes\" :key=\"item.hashId\">\r\n        <el-row class=\"jokeText text-left line-h30\">{{item.content}}</el-row>\r\n        <el-divider></el-divider>\r\n      </el-row>\r\n    </el-row>\r\n    <el-dialog\r\n        :visible.sync=\"dialogPreviewVisible\"\r\n        width=\"40%\">\r\n      <el-image :src=\"previewSrc\">\r\n        <div slot=\"placeholder\" v-loading=\"true\"></div>\r\n        <div slot=\"error\" class=\"image-slot\">\r\n          <img src=\"img/no_image.jpg\" alt=\"\" width=\"100%\">\r\n        </div>\r\n      </el-image>\r\n    </el-dialog>\r\n    <el-row class='getMore p-40' v-loading=\"true\">\r\n      <!--<el-button type=\"primary\" @click=\"getData\">刷新</el-button>-->\r\n      <!--<el-button type=\"primary\" @click=\"getRealData\">最新段子</el-button>-->\r\n    </el-row>\r\n  </el-row>\r\n</template>\r\n<script>\r\nimport { getRandomJoke, getSingleJoke } from '@/api/apiopen'\r\nimport { getJoke } from '@/api/juhe'\r\n\r\nexport default {\r\n  name: 'joke',\r\n  data () {\r\n    return {\r\n      jokes: [],\r\n      textJokes: [],\r\n      dialogPreviewVisible: false,\r\n      previewSrc: ''\r\n    }\r\n  },\r\n  created () {\r\n    this.getJoke()\r\n    this.getTextJoke()\r\n  },\r\n  mounted () {\r\n    if (this.jokes.length !== 0) {\r\n      this.$inView('.getMore').on('enter', () => {\r\n        console.log('进来了')\r\n        this.getJoke()\r\n      }).on('exit', () => {\r\n      })\r\n    }\r\n  },\r\n  methods: {\r\n    getJoke () {\r\n      getRandomJoke({\r\n        param: {}\r\n      }).then(res => {\r\n        if (res.code === 200) {\r\n          this.jokes = res.data\r\n        } else {\r\n          this.$message.error(res)\r\n        }\r\n      }).catch(error => {\r\n        this.$message.error('段子获取失败')\r\n        console.log(error)\r\n      })\r\n    },\r\n    getTextJoke () {\r\n      getJoke({\r\n        param: {}\r\n      }).then(res => {\r\n        console.log(res)\r\n        if (res.error_code === 0) {\r\n          this.textJokes = res.result.data\r\n        } else {\r\n          this.$message.error(res.reason)\r\n        }\r\n      }).catch(error => {\r\n        console.log(error)\r\n      })\r\n    },\r\n    getJokeDetail (sid) {\r\n      getSingleJoke({\r\n        param: {\r\n          sid: sid\r\n        }\r\n      }).then(res => {\r\n        console.log('段子祥情', res)\r\n      }).catch(res => {\r\n        this.$message.error('获取详情失败')\r\n        console.log('获取详情失败', res)\r\n      })\r\n    },\r\n    handlePreview (src) {\r\n      console.log('预览地址', src)\r\n      this.dialogPreviewVisible = true\r\n      this.previewSrc = src\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n.joke {\r\n  background-color: #fff;\r\n\r\n  .jokeText {\r\n    width: 80%;\r\n    max-width: 600px;\r\n    margin: 0 auto;\r\n    padding: 20px 0;\r\n  }\r\n\r\n  .myVideo {\r\n    width: 100%;\r\n    max-width: 600px;\r\n  }\r\n\r\n  .el-image {\r\n    width: 100%;\r\n    max-width: 600px;\r\n\r\n    .image-slot {\r\n      height: 100px;\r\n    }\r\n  }\r\n}\r\n\r\n\r\n@media screen and (max-device-width: 400px) { //适应手机的css\r\n  // 真实宽度小于400px (非web端窗口大小)\r\n  .joke {\r\n    .max-width {\r\n      max-width: 375px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2e4f5bd5&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.7.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}