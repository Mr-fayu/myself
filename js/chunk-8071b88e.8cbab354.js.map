{"version":3,"sources":["webpack:///./src/views/joke/index.vue?d602","webpack:///./src/views/joke/index.vue?69ff","webpack:///./src/api/juhe/index.js","webpack:///src/views/joke/index.vue","webpack:///./src/views/joke/index.vue?02fd","webpack:///./src/views/joke/index.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","on-refresh","refresh","directives","name","rawName","value","expression","_l","item","index","key","soureid","type","toolbar","title","navbar","keyboard","staticStyle","width","height","src","header","flex-direction","justify","_v","_s","username","passtime","text","video","controls","_e","image","alt","slot","gif","up","size","on","click","$event","getJokeDetail","comment","jokes","length","hashId","content","visible","dialogPreviewVisible","update:visible","previewSrc","staticRenderFns","appKey","getJoke","$$","ajax","async","url","concat","dataType","success","data","console","log","jokevue_type_script_lang_js_","loading","textJokes","created","mounted","init","methods","_this","window","onmousewheel","e","wheelDelta","$refs","jokeScroller","scrollBy","_this2","Object","apiopen","param","then","res","finishPullToRefresh","code","$message","error","catch","getTextJoke","_this3","juhe_getJoke","error_code","result","reason","sid","_this4","handlePreview","views_jokevue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-8071b88e.8cbab354.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',{staticClass:\"joke\"},[_c('scroller',{ref:\"jokeScroller\",attrs:{\"on-refresh\":_vm.refresh}},[_c('el-row',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"text-center white-back\"},_vm._l((_vm.jokes),function(item,index){return _c('el-row',{key:item.soureid},[_c('el-row',{attrs:{\"type\":\"flex\"}},[_c('el-image',{directives:[{name:\"viewer\",rawName:\"v-viewer\",value:({toolbar:false, title: false, navbar: false, keyboard: false}),expression:\"{toolbar:false, title: false, navbar: false, keyboard: false}\"}],staticStyle:{\"width\":\"50px\",\"height\":\"50px\"},attrs:{\"src\":item.header}}),_c('el-row',{staticClass:\"ml-10\",staticStyle:{\"flex-direction\":\"column\"},attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('span',{staticClass:\"font-size--small\"},[_vm._v(_vm._s(item.username))]),_c('span',{staticClass:\"font-size--small\"},[_vm._v(_vm._s(item.passtime))])])],1),_c('el-row',{staticClass:\"jokeText max-width ml-20 text-left line-h30\"},[_vm._v(_vm._s(item.text))]),(item.type==='video')?_c('video',{staticClass:\"myVideo max-width\",attrs:{\"src\":item.video,\"controls\":\"\"}}):_vm._e(),(item.type==='image')?_c('el-image',{directives:[{name:\"viewer\",rawName:\"v-viewer\",value:({toolbar:false, title: false, navbar: false, keyboard: false}),expression:\"{toolbar:false, title: false, navbar: false, keyboard: false}\"}],staticClass:\"p-10 max-width\",attrs:{\"src\":item.image,\"alt\":\"\"}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(true),expression:\"true\"}],attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"}),_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"error\"},slot:\"error\"},[_c('img',{attrs:{\"src\":\"img/no_image.jpg\",\"alt\":\"\",\"width\":\"100%\"}})])]):_vm._e(),(item.type==='gif')?_c('el-image',{directives:[{name:\"viewer\",rawName:\"v-viewer\",value:({toolbar:false, title: false, navbar: false, keyboard: false}),expression:\"{toolbar:false, title: false, navbar: false, keyboard: false}\"}],staticClass:\"p-10 max-width\",attrs:{\"src\":item.gif,\"alt\":\"\"}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(true),expression:\"true\"}],attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"}),_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"error\"},slot:\"error\"},[_c('img',{directives:[{name:\"viewer\",rawName:\"v-viewer\",value:({toolbar:false, title: false, navbar: false, keyboard: false}),expression:\"{toolbar:false, title: false, navbar: false, keyboard: false}\"}],attrs:{\"src\":\"img/no_image.jpg\",\"alt\":\"\",\"width\":\"100%\"}})])]):_vm._e(),_c('el-row',{staticClass:\"ptb-20\",attrs:{\"type\":\"flex\",\"justify\":\"space-around\"}},[_c('el-badge',{staticClass:\"item\",attrs:{\"value\":item.up}},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.getJokeDetail(item.soureid)}}},[_vm._v(\"赞过\")])],1),_c('el-badge',{staticClass:\"item\",attrs:{\"value\":item.comment}},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.getJokeDetail(item.soureid)}}},[_vm._v(\"\\n              评论\\n            \")])],1),_c('el-badge',{staticClass:\"item\",attrs:{\"value\":item.up}},[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.getJokeDetail(item.soureid)}}},[_vm._v(\"踩过\")])],1)],1),_c('el-divider')],1)}),1),(_vm.jokes.length===0)?_c('el-row',{staticClass:\"text-center\"},_vm._l((_vm.textJokes),function(item){return _c('el-row',{key:item.hashId},[_c('el-row',{staticClass:\"jokeText text-left line-h30\"},[_vm._v(_vm._s(item.content))]),_c('el-divider')],1)}),1):_vm._e()],1),_c('el-dialog',{attrs:{\"visible\":_vm.dialogPreviewVisible,\"width\":\"40%\"},on:{\"update:visible\":function($event){_vm.dialogPreviewVisible=$event}}},[_c('el-image',{attrs:{\"src\":_vm.previewSrc}},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(true),expression:\"true\"}],attrs:{\"slot\":\"placeholder\"},slot:\"placeholder\"}),_c('div',{staticClass:\"image-slot\",attrs:{\"slot\":\"error\"},slot:\"error\"},[_c('img',{directives:[{name:\"viewer\",rawName:\"v-viewer\",value:({toolbar:false, title: false, navbar: false, keyboard: false}),expression:\"{toolbar:false, title: false, navbar: false, keyboard: false}\"}],attrs:{\"src\":\"img/no_image.jpg\",\"alt\":\"\",\"width\":\"100%\"}})])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import $$ from 'jquery'\r\n\r\n/**\r\n * https://www.juhe.cn/myData\r\n * appKey: 77f581f3bad70b169621e782cc5e3779\r\n * 聚合数据 (个人实名认证)\r\n * 使用请联系Mr_fayu@163.com\r\n */\r\nlet appKey = '77f581f3bad70b169621e782cc5e3779'\r\n\r\nexport function getJoke () {\r\n  return $$.ajax({\r\n    type: 'GET',\r\n    async: true,    //是否异步\r\n    url: `https://v.juhe.cn/joke/content/text.php?key=${appKey}&page=1&pagesize=20`,\r\n    dataType: 'jsonp',\r\n    success: function (data) {\r\n      console.log('success', data)\r\n    },\r\n    // error: function (err) {\r\n    //   console.log('Error', err)\r\n    // }\r\n    /**\r\n     * 具体原理不清楚  组件调用\r\n     * then 对应success,\r\n     * catch 对应error.\r\n     */\r\n  })\r\n}\r\nexport function getNews () {\r\n  return $$.ajax({\r\n    type: 'GET',\r\n    async: true,    //是否异步\r\n    url: `https://v.juhe.cn/joke/content/text.php?key=${appKey}&page=1&pagesize=20`,\r\n    dataType: 'jsonp',\r\n    // success: function (data) {\r\n    //   console.log('success', data)\r\n    // },\r\n    // error: function (err) {\r\n    //   console.log('Error', err)\r\n    // }\r\n    /**\r\n     * 具体原理不清楚  组件调用\r\n     * then 对应success,\r\n     * catch 对应error.\r\n     */\r\n  })\r\n}\r\n","<template>\r\n  <el-row class=\"joke\">\r\n    <scroller :on-refresh=\"refresh\" ref=\"jokeScroller\">\r\n      <el-row class=\"text-center white-back\" v-loading=\"loading\">\r\n        <el-row v-for=\"(item, index) in jokes\" :key=\"item.soureid\">\r\n          <el-row type=\"flex\">\r\n            <el-image :src=\"item.header\"\r\n                      v-viewer=\"{toolbar:false, title: false, navbar: false, keyboard: false}\"\r\n                      style=\"width: 50px; height: 50px;\"></el-image>\r\n            <el-row class=\"ml-10\" type=\"flex\" style=\"flex-direction: column;\" justify=\"space-between\">\r\n              <span class=\"font-size--small\">{{item.username}}</span>\r\n              <span class=\"font-size--small\">{{item.passtime}}</span>\r\n            </el-row>\r\n          </el-row>\r\n          <el-row class=\"jokeText max-width ml-20 text-left line-h30\">{{item.text}}</el-row>\r\n          <video class=\"myVideo max-width\" v-if=\"item.type==='video'\" :src=\"item.video\" controls></video>\r\n          <el-image class=\"p-10 max-width\"\r\n                    v-viewer=\"{toolbar:false, title: false, navbar: false, keyboard: false}\"\r\n                    v-if=\"item.type==='image'\"\r\n                    :src=\"item.image\" alt=\"\">\r\n            <div slot=\"placeholder\" v-loading=\"true\"></div>\r\n            <div slot=\"error\" class=\"image-slot\">\r\n              <img src=\"img/no_image.jpg\" alt=\"\" width=\"100%\">\r\n            </div>\r\n          </el-image>\r\n          <el-image class=\"p-10 max-width\"\r\n                    v-viewer=\"{toolbar:false, title: false, navbar: false, keyboard: false}\"\r\n                    v-if=\"item.type==='gif'\"\r\n                    :src=\"item.gif\" alt=\"\">\r\n            <div slot=\"placeholder\" v-loading=\"true\"></div>\r\n            <div slot=\"error\" class=\"image-slot\">\r\n              <img src=\"img/no_image.jpg\" alt=\"\" v-viewer=\"{toolbar:false, title: false, navbar: false, keyboard: false}\" width=\"100%\">\r\n            </div>\r\n          </el-image>\r\n          <el-row type=\"flex\" justify=\"space-around\" class=\"ptb-20\">\r\n            <el-badge :value=\"item.up\" class=\"item\">\r\n              <el-button @click=\"getJokeDetail(item.soureid)\" size=\"small\">赞过</el-button>\r\n            </el-badge>\r\n            <el-badge :value=\"item.comment\" class=\"item\">\r\n              <el-button @click=\"getJokeDetail(item.soureid)\" size=\"small\">\r\n                <!--<i class=\"el-icon-s-comment font-size&#45;&#45;medium\"></i>-->\r\n                评论\r\n              </el-button>\r\n            </el-badge>\r\n            <el-badge :value=\"item.up\" class=\"item\">\r\n              <el-button @click=\"getJokeDetail(item.soureid)\" size=\"small\">踩过</el-button>\r\n            </el-badge>\r\n          </el-row>\r\n          <el-divider></el-divider>\r\n        </el-row>\r\n      </el-row>\r\n      <el-row v-if=\"jokes.length===0\" class=\"text-center\">\r\n        <el-row v-for=\"item in textJokes\" :key=\"item.hashId\">\r\n          <el-row class=\"jokeText text-left line-h30\">{{item.content}}</el-row>\r\n          <el-divider></el-divider>\r\n        </el-row>\r\n      </el-row>\r\n    </scroller>\r\n    <el-dialog\r\n        :visible.sync=\"dialogPreviewVisible\"\r\n        width=\"40%\">\r\n      <el-image :src=\"previewSrc\">\r\n        <div slot=\"placeholder\" v-loading=\"true\"></div>\r\n        <div slot=\"error\" class=\"image-slot\">\r\n          <img src=\"img/no_image.jpg\" v-viewer=\"{toolbar:false, title: false, navbar: false, keyboard: false}\" alt=\"\" width=\"100%\">\r\n        </div>\r\n      </el-image>\r\n    </el-dialog>\r\n    <!--<el-row class='getMore p-40' v-loading=\"true\">-->\r\n      <!--<el-button type=\"primary\" @click=\"getData\">刷新</el-button>-->\r\n      <!--<el-button type=\"primary\" @click=\"getRealData\">最新段子</el-button>-->\r\n    <!--</el-row>-->\r\n  </el-row>\r\n</template>\r\n<script>\r\nimport { getRandomJoke, getSingleJoke } from '@/api/apiopen'\r\nimport { getJoke } from '@/api/juhe'\r\n\r\nexport default {\r\n  name: 'joke',\r\n  data () {\r\n    return {\r\n      loading: false,\r\n      jokes: [],\r\n      textJokes: [],\r\n      dialogPreviewVisible: false,\r\n      previewSrc: ''\r\n    }\r\n  },\r\n  created () {\r\n    this.getJoke()\r\n  },\r\n  mounted () {\r\n    this.init()\r\n  },\r\n  methods: {\r\n    init () { //兼容pc\r\n      let _this = this\r\n      window.onmousewheel = function (e) {\r\n        if (e.wheelDelta < 0) {// 固定值120 向上滚为-120 向下是120\r\n          _this.$refs.jokeScroller && (_this.$refs.jokeScroller.scrollBy(0, 30, false))//避免ref中存在scrollerBottom\r\n        } else {\r\n          _this.$refs.jokeScroller && (_this.$refs.jokeScroller.scrollBy(0, -30, false))\r\n        }\r\n      }\r\n    },\r\n    getJoke () {\r\n      this.loading = true\r\n      getRandomJoke({\r\n        param: {}\r\n      }).then(res => {\r\n        this.$refs.jokeScroller.finishPullToRefresh()// 关闭下拉刷新\r\n        this.loading = false\r\n        console.log('段子列表', res)\r\n        if (res.code === 200) {\r\n          this.jokes = res.data\r\n        } else {\r\n          this.$message.error(res)\r\n        }\r\n      }).catch(error => {\r\n        this.loading = false\r\n        this.$message.error('段子获取失败')\r\n        console.log(error)\r\n      })\r\n    },\r\n    refresh () {\r\n      this.getJoke()\r\n    },\r\n    getTextJoke () {\r\n      getJoke({\r\n        param: {}\r\n      }).then(res => {\r\n        console.log('笑话', res)\r\n        if (res.error_code === 0) {\r\n          this.textJokes = res.result.data\r\n        } else {\r\n          this.$message.error(res.reason)\r\n        }\r\n      }).catch(error => {\r\n        console.log(error)\r\n      })\r\n    },\r\n    getJokeDetail (sid) {\r\n      getSingleJoke({\r\n        param: {\r\n          sid: sid\r\n        }\r\n      }).then(res => {\r\n        console.log('段子祥情', res)\r\n      }).catch(res => {\r\n        this.$message.error('获取详情失败')\r\n        console.log('获取详情失败', res)\r\n      })\r\n    },\r\n    handlePreview (src) {\r\n      console.log('预览地址', src)\r\n      this.dialogPreviewVisible = true\r\n      this.previewSrc = src\r\n    },\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n.joke {\r\n  background-color: #fff;\r\n  height: 100vh;\r\n\r\n  .jokeText {\r\n    width: 80%;\r\n    max-width: 600px;\r\n    margin: 0 auto;\r\n    padding: 20px 0;\r\n  }\r\n\r\n  .myVideo {\r\n    width: 100%;\r\n    max-width: 600px;\r\n  }\r\n\r\n  .el-image {\r\n    width: 100%;\r\n    max-width: 600px;\r\n\r\n    .image-slot {\r\n      height: 100px;\r\n    }\r\n  }\r\n}\r\n\r\n\r\n@media screen and (max-device-width: 400px) { //适应手机的css\r\n  // 真实宽度小于400px (非web端窗口大小)\r\n  .joke {\r\n    .max-width {\r\n      max-width: 375px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=603b42e4&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}