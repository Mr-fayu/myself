(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70921c61"],{"10b9":function(e,t,a){"use strict";var s=a("36cb"),i=a.n(s);i.a},"35d6":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{staticClass:"joke"},[a("el-row",{staticClass:"text-center"},e._l(e.jokes,function(t,s){return a("el-row",{key:t.soureid},[a("el-row",{attrs:{type:"flex"}},[a("el-image",{directives:[{name:"viewer",rawName:"v-viewer",value:{toolbar:!1,title:!1,navbar:!1,keyboard:!1},expression:"{toolbar:false, title: false, navbar: false, keyboard: false}"}],staticStyle:{width:"50px",height:"50px"},attrs:{src:t.header}}),a("el-row",{staticClass:"ml-10",staticStyle:{"flex-direction":"column"},attrs:{type:"flex",justify:"space-between"}},[a("span",{staticClass:"font-size--small"},[e._v(e._s(t.username))]),a("span",{staticClass:"font-size--small"},[e._v(e._s(t.passtime))])])],1),a("el-row",{staticClass:"jokeText max-width ml-20 text-left line-h30"},[e._v(e._s(t.text))]),"video"===t.type?a("video",{staticClass:"myVideo max-width",attrs:{src:t.video,controls:""}}):e._e(),"image"===t.type?a("el-image",{directives:[{name:"viewer",rawName:"v-viewer",value:{toolbar:!1,title:!1,navbar:!1,keyboard:!1},expression:"{toolbar:false, title: false, navbar: false, keyboard: false}"}],staticClass:"p-10 max-width",attrs:{src:t.image,alt:""}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],attrs:{slot:"placeholder"},slot:"placeholder"}),a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("img",{attrs:{src:"img/no_image.jpg",alt:"",width:"100%"}})])]):e._e(),"gif"===t.type?a("el-image",{directives:[{name:"viewer",rawName:"v-viewer",value:{toolbar:!1,title:!1,navbar:!1,keyboard:!1},expression:"{toolbar:false, title: false, navbar: false, keyboard: false}"}],staticClass:"p-10 max-width",attrs:{src:t.gif,alt:""}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],attrs:{slot:"placeholder"},slot:"placeholder"}),a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("img",{attrs:{src:"img/no_image.jpg",alt:"",width:"100%"}})])]):e._e(),a("el-row",{staticClass:"ptb-20",attrs:{type:"flex",justify:"space-around"}},[a("el-badge",{staticClass:"item",attrs:{value:t.up}},[a("el-button",{attrs:{size:"small"},on:{click:function(a){return e.getJokeDetail(t.soureid)}}},[e._v("赞过")])],1),a("el-badge",{staticClass:"item",attrs:{value:t.comment}},[a("el-button",{attrs:{size:"small"},on:{click:function(a){return e.getJokeDetail(t.soureid)}}},[e._v("\n            评论\n          ")])],1),a("el-badge",{staticClass:"item",attrs:{value:t.up}},[a("el-button",{attrs:{size:"small"},on:{click:function(a){return e.getJokeDetail(t.soureid)}}},[e._v("踩过")])],1)],1),a("el-divider")],1)}),1),a("el-row",{staticClass:"text-center"},e._l(e.textJokes,function(t){return a("el-row",{key:t.hashId},[a("el-row",{staticClass:"jokeText text-left line-h30"},[e._v(e._s(t.content))]),a("el-divider")],1)}),1),a("el-dialog",{attrs:{visible:e.dialogPreviewVisible,width:"40%"},on:{"update:visible":function(t){e.dialogPreviewVisible=t}}},[a("el-image",{attrs:{src:e.previewSrc}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],attrs:{slot:"placeholder"},slot:"placeholder"}),a("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[a("img",{attrs:{src:"img/no_image.jpg",alt:"",width:"100%"}})])])],1),a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:!0,expression:"true"}],staticClass:"getMore p-40"})],1)},i=[],r=a("937f"),o=a("19b9"),l=a.n(o),n="77f581f3bad70b169621e782cc5e3779";function c(){return l.a.ajax({type:"GET",async:!0,url:"http://v.juhe.cn/joke/content/text.php?key=".concat(n,"&page=1&pagesize=20"),dataType:"jsonp"})}var d={name:"joke",data:function(){return{jokes:[],textJokes:[],dialogPreviewVisible:!1,previewSrc:""}},created:function(){this.getJoke(),this.getTextJoke()},mounted:function(){var e=this;0!==this.jokes.length&&this.$inView(".getMore").on("enter",function(){console.log("进来了"),e.getJoke()}).on("exit",function(){})},methods:{getJoke:function(){var e=this;Object(r["a"])({param:{}}).then(function(t){200===t.code?e.jokes=t.data:e.$message.error(t)}).catch(function(t){e.$message.error("段子获取失败"),console.log(t)})},getTextJoke:function(){var e=this;c({param:{}}).then(function(t){console.log(t),0===t.error_code?e.textJokes=t.result.data:e.$message.error(t.reason)}).catch(function(e){console.log(e)})},getJokeDetail:function(e){var t=this;Object(r["b"])({param:{sid:e}}).then(function(e){console.log("段子祥情",e)}).catch(function(e){t.$message.error("获取详情失败"),console.log("获取详情失败",e)})},handlePreview:function(e){console.log("预览地址",e),this.dialogPreviewVisible=!0,this.previewSrc=e}}},u=d,v=(a("10b9"),a("17cc")),g=Object(v["a"])(u,s,i,!1,null,null,null);t["default"]=g.exports},"36cb":function(e,t,a){}}]);
//# sourceMappingURL=chunk-70921c61.d3b55b06.js.map