(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ea97e0da"],{5573:function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-row",{staticClass:"vip-video"},[s("el-row",{staticClass:"video-search"},[s("el-row",{staticClass:"mt-20"},[s("el-input",{staticStyle:{width:"300px"},attrs:{size:"medium",placeholder:"请输入你想看的影片"},model:{value:e.searchName,callback:function(t){e.searchName=t},expression:"searchName"}}),s("el-row",{staticClass:"text-center mt-20"},[s("el-button",{attrs:{type:"primary"},on:{click:e.getData}},[e._v("尽力搜索")]),s("el-button",{attrs:{type:"primary"},on:{click:e.toPaste}},[e._v("我有播放地址")])],1)],1),s("el-row",{staticClass:"mt-20",attrs:{type:"flex",justify:"space-between"}},e._l(e.videoList,function(t){return s("el-row",{key:t.id,nativeOn:{click:function(s){return e.handleVideo(t)}}},[s("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.dc}},[s("div",{staticClass:"image-error",attrs:{slot:"error"},slot:"error"},[e._v("\n            暂无封面\n          ")])]),s("el-row",[e._v(e._s(t.word))])],1)}),1)],1),e.selectVideo?s("el-row",{staticClass:"mt-20"},[s("iframe",{attrs:{id:"$iframe",src:"",frameborder:"0",width:"100%",height:"800px",allowfullscreen:"true",webkitallowfullscreen:"true",mozallowfullscreen:"true"}}),s("el-row",{staticStyle:{color:"#909299"}},[e._v("无法播放？切换线路试试")]),s("el-radio-group",{on:{change:e.changeLine},model:{value:e.selectLine,callback:function(t){e.selectLine=t},expression:"selectLine"}},e._l(e.apiList,function(t){return s("el-radio",{key:t.id,staticClass:"m-10",attrs:{border:"",label:t.value}},[e._v(e._s(t.label)+"\n      ")])}),1)],1):e._e()],1)},a=[],r=(s("96cf"),s("3b8d")),n={name:"vip-video",data:function(){return{searchName:"",videoList:[],selectLine:"",selectVideo:"",apiList:[]}},created:function(){this.getApiList()},methods:{getApiList:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("api/videoApiListGet");case 2:this.apiList=e.sent,console.log("this.apiList",this.apiList),this.selectLine=this.apiList[0]&&this.apiList[0].value;case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getData:function(){var e=this;if(!this.searchName)return this.$message.warning("请输入要搜索的资源");this.$jsonp("https://s.video.qq.com/smartbox?callback=result&plat=2&ver=0&num=20&otype=json&query=".concat(this.searchName),{ts:(new Date).getTime(),callbackName:"callback"}).then(function(t){0===t.result.code&&(e.$message.success("查询成功"),e.videoList=t.item.filter(function(e){return e.class&&e.url})),console.log("结果",t)}).catch(function(e){console.log("err",e)})},toPaste:function(){this.$router.push({name:"play"})},handleVideo:function(e){var t=document.getElementById("$iframe");t.src=this.selectLine+e.url,this.selectVideo=e.url},changeLine:function(){if(this.selectVideo){var e=document.getElementById("$iframe");e.src=this.selectLine+this.selectVideo,console.log("$iframe",e)}else this.$message.info("暂未选择播放源")}}},c=n,l=(s("846b"),s("0c7c")),o=Object(l["a"])(c,i,a,!1,null,null,null);t["default"]=o.exports},"82b2":function(e,t,s){},"846b":function(e,t,s){"use strict";var i=s("82b2"),a=s.n(i);a.a}}]);
//# sourceMappingURL=chunk-ea97e0da.dc5bf683.js.map