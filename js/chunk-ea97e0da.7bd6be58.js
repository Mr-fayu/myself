(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ea97e0da"],{5573:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-row",{staticClass:"vip-video"},[i("el-row",{staticClass:"video-search"},[i("el-row",{staticClass:"mt-20"},[i("el-input",{staticStyle:{width:"300px"},attrs:{size:"medium",placeholder:"请输入你想看的影片"},model:{value:e.searchName,callback:function(t){e.searchName=t},expression:"searchName"}}),i("el-row",{staticClass:"text-center mt-20"},[i("el-button",{attrs:{type:"primary"},on:{click:e.getData}},[e._v("尽力搜索")]),i("el-button",{attrs:{type:"primary"},on:{click:e.toPaste}},[e._v("我有播放地址")])],1)],1),i("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"mt-20",attrs:{type:"flex",justify:"space-between"}},e._l(e.videoList,function(t){return i("el-row",{key:t.id,nativeOn:{click:function(i){return e.handleVideo(t)}}},[i("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.dc}},[i("div",{staticClass:"image-error",attrs:{slot:"error"},slot:"error"},[e._v("\n            暂无封面\n          ")])]),i("el-row",[e._v(e._s(t.word))])],1)}),1)],1),i("el-row",{staticClass:"mt-20"},[i("iframe",{attrs:{id:"$iframe",src:"",frameborder:"0",width:"100%",height:e.selectVideo?"800px":"0",allowfullscreen:"true",webkitallowfullscreen:"true",mozallowfullscreen:"true"}}),i("el-row",{staticStyle:{color:"#909299"}},[e._v("无法播放？切换线路试试")]),i("el-radio-group",{on:{change:e.changeLine},model:{value:e.selectLine,callback:function(t){e.selectLine=t},expression:"selectLine"}},e._l(e.apiList,function(t){return i("el-radio",{key:t.id,staticClass:"m-10",attrs:{border:"",label:t.value}},[e._v(e._s(t.label)+"\n      ")])}),1)],1),i("el-row",{staticClass:"navButton"},[i("el-button",{attrs:{title:"返回顶部"},on:{click:e.goTop}},[e._v("top")])],1)],1)},a=[],n=(i("96cf"),i("3b8d")),r={name:"vip-video",data:function(){return{searchName:"",loading:!1,videoList:[],selectLine:"",selectVideo:"",apiList:[]}},created:function(){this.getApiList()},methods:{getApiList:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("api/videoApiListGet");case 2:this.apiList=e.sent,console.log("this.apiList",this.apiList),this.selectLine=this.apiList[0]&&this.apiList[0].value;case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getData:function(){var e=this;if(!this.searchName)return this.$message.warning("请输入要搜索的资源");this.loading=!0,this.$jsonp("https://s.video.qq.com/smartbox?callback=result&plat=2&ver=0&num=20&otype=json&query=".concat(this.searchName),{ts:(new Date).getTime(),callbackName:"callback"}).then(function(t){0===t.result.code?e.videoList=t.item.filter(function(e){return e.class&&e.url}):e.$message.error("检索失败，未找到相应视频源"),console.log("结果",t),e.loading=!1}).catch(function(t){e.loading=!1,console.log("err",t)})},toPaste:function(){this.$router.push({name:"play"})},handleVideo:function(e){var t=document.getElementById("$iframe");t.src=this.selectLine+e.url,this.selectVideo=e.url},changeLine:function(){if(this.selectVideo){var e=document.getElementById("$iframe");e.src=this.selectLine+this.selectVideo,console.log("$iframe",e)}else this.$message.info("暂未选择播放源")},goTop:function(){window.scrollTo(0,0)}}},o=r,l=(i("846b"),i("0c7c")),c=Object(l["a"])(o,s,a,!1,null,null,null);t["default"]=c.exports},"82b2":function(e,t,i){},"846b":function(e,t,i){"use strict";var s=i("82b2"),a=i.n(s);a.a}}]);
//# sourceMappingURL=chunk-ea97e0da.7bd6be58.js.map